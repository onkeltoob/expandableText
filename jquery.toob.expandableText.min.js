(function(e){e.extend(e.fn,{expandableText:function(t){function n(e){e.attr("title",e.text()==settings.placeholderText?settings.hiddenTitleText:settings.displayedTitleText);if(!e.attr("title")){e.removeAttr("title")}}function r(e){e.removeClass(e.text()==settings.placeholderText?settings.resultClass:settings.placeholderClass);e.addClass(e.text()==settings.placeholderText?settings.placeholderClass:settings.resultClass)}settings=e.extend({dataAttributeName:"expand",placeholderText:"â€¦",insertBlankBefore:true,hideInitially:true,cursor:"pointer",hiddenTitleText:"",displayedTitleText:"",placeholderClass:"",resultClass:""},t);settings.dataAttributeName=!/^data\-(.)+$/.test(settings.dataAttributeName)?"data-"+settings.dataAttributeName:settings.dataAttributeName;this.each(function(){var t=e(this).attr(settings.dataAttributeName);if(t){var i=e(document.createElement("span")).append(settings.hideInitially?settings.placeholderText:t).css("cursor","pointer");n(i);r(i);i.on("click",function(s){e(this).text(e(this).text()==settings.placeholderText?t:settings.placeholderText);n(e(this));r(i)});if(settings.insertBlankBefore){e(this).append(" ")}e(this).append(i)}});return this}})})(jQuery)
